<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>JVM çŸ¥è¯†æ¢³ç† | Luisã®Blog</title><meta name="author" content="Luis"><meta name="copyright" content="Luis"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="oracleå®˜æ–¹æ–‡æ¡£ï¼šhttps:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;specs&#x2F;jvms&#x2F;se8&#x2F;html&#x2F;index.html JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ å †å¤–å†…å­˜å †å¤–å†…å­˜æ˜¯æŒ‡ä¸åœ¨ JVM å †ç©ºé—´å†…ï¼Œä½†ä»ç”±åº”ç”¨ç¨‹åºæ§åˆ¶å’Œä½¿ç”¨çš„å†…å­˜åŒºåŸŸã€‚å®ƒä¸å— JVM åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰ç›´æ¥ç®¡ç†ã€‚  *JVMä¸è´Ÿè´£é‡Šæ”¾ï¼Œéœ€æ‰‹åŠ¨é‡Šæ”¾ã€‚*    ç‰¹å¾ è¯´æ˜    ä¸å— GC æ§åˆ¶ é¿å…é¢‘ç¹ GCã€å‡å°‘ GC"><meta property="og:type" content="article"><meta property="og:title" content="JVM çŸ¥è¯†æ¢³ç†"><meta property="og:url" content="https://iluis.cn/e3f46350.html"><meta property="og:site_name" content="Luisã®Blog"><meta property="og:description" content="oracleå®˜æ–¹æ–‡æ¡£ï¼šhttps:&#x2F;&#x2F;docs.oracle.com&#x2F;javase&#x2F;specs&#x2F;jvms&#x2F;se8&#x2F;html&#x2F;index.html JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ å †å¤–å†…å­˜å †å¤–å†…å­˜æ˜¯æŒ‡ä¸åœ¨ JVM å †ç©ºé—´å†…ï¼Œä½†ä»ç”±åº”ç”¨ç¨‹åºæ§åˆ¶å’Œä½¿ç”¨çš„å†…å­˜åŒºåŸŸã€‚å®ƒä¸å— JVM åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰ç›´æ¥ç®¡ç†ã€‚  *JVMä¸è´Ÿè´£é‡Šæ”¾ï¼Œéœ€æ‰‹åŠ¨é‡Šæ”¾ã€‚*    ç‰¹å¾ è¯´æ˜    ä¸å— GC æ§åˆ¶ é¿å…é¢‘ç¹ GCã€å‡å°‘ GC"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://iluis.cn/img/luis/t3.jpg"><meta property="article:published_time" content="2025-05-09T05:12:02.000Z"><meta property="article:modified_time" content="2025-06-08T06:58:20.048Z"><meta property="article:author" content="Luis"><meta property="article:tag" content="JVM"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://iluis.cn/img/luis/t3.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://iluis.cn/e3f46350.html"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"limitCount":50,"languages":{"author":"ä½œè€…: Luis","link":"é“¾æ¥: ","source":"æ¥æº: Luisã®Blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}
</script><div id="myscoll"></div><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"JVM çŸ¥è¯†æ¢³ç†",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-06-08 14:58:20"}</script><noscript><style type="text/css">#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/cat.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/luis/avatar.jpg" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>å…³äº</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(/img/luis/t3.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="Luisã®Blog"><span class="site-name">Luisã®Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i> <span>æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>æ—¶é—´è½´</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>å…³äº</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JVM çŸ¥è¯†æ¢³ç†</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2025-05-09T05:12:02.000Z" title="å‘è¡¨äº 2025-05-09 13:12:02">2025-05-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2025-06-08T06:58:20.048Z" title="æ›´æ–°äº 2025-06-08 14:58:20">2025-06-08</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/JVM/">JVM</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JVM çŸ¥è¯†æ¢³ç†"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>oracleå®˜æ–¹æ–‡æ¡£ï¼š<a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/specs/jvms/se8/html/index.html">https://docs.oracle.com/javase/specs/jvms/se8/html/index.html</a></p><h1 id="JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ"><a href="#JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ" class="headerlink" title="JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ"></a>JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ</h1><p><img src="/image/code-adventure/jvm/JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F.jpg" alt="JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ"></p><h1 id="å †å¤–å†…å­˜"><a href="#å †å¤–å†…å­˜" class="headerlink" title="å †å¤–å†…å­˜"></a>å †å¤–å†…å­˜</h1><p><strong>å †å¤–å†…å­˜</strong>æ˜¯æŒ‡<strong>ä¸åœ¨ JVM å †ç©ºé—´å†…</strong>ï¼Œä½†ä»ç”±åº”ç”¨ç¨‹åºæ§åˆ¶å’Œä½¿ç”¨çš„å†…å­˜åŒºåŸŸã€‚å®ƒä¸å— JVM åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰ç›´æ¥ç®¡ç†ã€‚ *<em>JVM<br>ä¸è´Ÿè´£é‡Šæ”¾<br><strong><strong>ï¼Œéœ€</strong></strong>æ‰‹åŠ¨é‡Šæ”¾ã€‚</em>*</p><table><thead><tr><th>ç‰¹å¾</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ä¸å— GC æ§åˆ¶</strong></td><td>é¿å…é¢‘ç¹ GCã€å‡å°‘ GC åœé¡¿ï¼Œé€‚åˆç¼“å­˜&#x2F;å¤§å¯¹è±¡</td></tr><tr><td><strong>ç”Ÿå‘½å‘¨æœŸå¯æ§</strong></td><td>éœ€ç¨‹åºå‘˜æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾</td></tr><tr><td><strong>è·¨è¿›ç¨‹&#x2F;è·¨è¯­è¨€å…±äº«å›°éš¾</strong></td><td>ä½†é€‚åˆæœ¬åœ°é€šä¿¡æˆ– JNI äº¤äº’</td></tr><tr><td><strong>å¸¸é©»å†…å­˜</strong></td><td>é€šå¸¸æ›´é è¿‘ç³»ç»Ÿå†…å­˜ï¼Œå›æ”¶æ›´ç²¾ç»†åŒ–</td></tr></tbody></table><table><thead><tr><th>ä½¿ç”¨åœºæ™¯</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><strong>é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ</strong></td><td>Netty çš„ <code>ByteBuf</code>ã€MapDBã€ChronicleMap</td></tr><tr><td><strong>é¿å… GC å¼€é”€</strong></td><td>é«˜é¢‘æ•°æ®å­˜å–ã€ç¼“å­˜çƒ­ç‚¹æ•°æ®</td></tr><tr><td><strong>å¤„ç†å¤§å¯¹è±¡æˆ–å¤§æ–‡ä»¶</strong></td><td>é›¶æ‹·è´ã€æ–‡ä»¶æ˜ å°„ã€NIO buffer</td></tr><tr><td><strong>ä¸æœ¬åœ°ä»£ç äº¤äº’</strong></td><td>JNI &#x2F; DirectBuffer &#x2F; Unsafe &#x2F; mmap</td></tr></tbody></table><p>å¸¸è§ä½¿ç”¨æ–¹å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ByteBuffer</span> <span class="variable">buffer</span> <span class="operator">=</span> ByteBuffer.allocateDirect(<span class="number">1024</span>);</span><br></pre></td></tr></table></figure><ul><li><strong>ä½œç”¨</strong>ï¼šç›´æ¥åˆ†é…å †å¤–å†…å­˜ï¼ˆDirect Memoryï¼‰</li><li><strong>ç‰¹ç‚¹</strong>ï¼šç”± OS ç®¡ç†ï¼ŒGC ä¸ä¼šå›æ”¶ï¼›æ€§èƒ½ä¼˜äºå †å†… NIO buffer</li><li><strong>é‡Šæ”¾</strong>ï¼šJVM åœ¨ä¸ç¡®å®šæ—¶é—´å›æ”¶ï¼ˆæˆ–ä½¿ç”¨åå°„+Cleaner æ‰‹åŠ¨å›æ”¶ï¼‰</li></ul><h1 id="å¸¸è§å¼‚å¸¸"><a href="#å¸¸è§å¼‚å¸¸" class="headerlink" title="å¸¸è§å¼‚å¸¸"></a>å¸¸è§å¼‚å¸¸</h1><h2 id="StackOverflowError"><a href="#StackOverflowError" class="headerlink" title="StackOverflowError"></a><code>StackOverflowError</code></h2><p>å½“çº¿ç¨‹çš„æ ˆç©ºé—´ç”¨å®Œæ—¶ï¼ŒJVM æŠ›å‡º <code>StackOverflowError</code>ã€‚</p><h3 id="ğŸ“Œ-å¸¸è§è§¦å‘åœºæ™¯"><a href="#ğŸ“Œ-å¸¸è§è§¦å‘åœºæ™¯" class="headerlink" title="ğŸ“Œ å¸¸è§è§¦å‘åœºæ™¯"></a>ğŸ“Œ å¸¸è§è§¦å‘åœºæ™¯</h3><ol><li>æ— é™é€’å½’è°ƒç”¨</li><li>è¿‡æ·±çš„è°ƒç”¨é“¾</li><li>æ¯ä¸ªæ ˆå¸§å ç”¨è¿‡å¤šå±€éƒ¨å˜é‡ï¼ˆå¯¼è‡´å•æ–¹æ³•è°ƒç”¨å°±è€—å°½æ ˆï¼‰</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackOverflowDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">recursive</span><span class="params">()</span> &#123;</span><br><span class="line">        recursive(); <span class="comment">// æ— é™é€’å½’</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        recursive();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>JVM è°ƒä¼˜å‚æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Xss256k  #è®¾ç½®å•çº¿ç¨‹æ ˆç©ºé—´å¤§å°ï¼ˆé»˜è®¤ 1M å·¦å³ï¼‰</span><br></pre></td></tr></table></figure><ul><li>å‡å° <code>-Xss</code> ä¼šä½¿ä¸€ä¸ªçº¿ç¨‹æ ˆå¸§æ›´å°ï¼Œä»è€Œæ”¯æŒæ›´å¤šçº¿ç¨‹ï¼›</li><li>å¢å¤§ <code>-Xss</code> ä¼šæ”¯æŒæ›´æ·±çš„æ–¹æ³•è°ƒç”¨é“¾ï¼Œä½†çº¿ç¨‹æ•°å‡å°‘ã€‚</li></ul><h2 id="OutOfMemoryErrorï¼ˆOOMï¼‰"><a href="#OutOfMemoryErrorï¼ˆOOMï¼‰" class="headerlink" title="OutOfMemoryErrorï¼ˆOOMï¼‰"></a><code>OutOfMemoryError</code>ï¼ˆOOMï¼‰</h2><p>JVM æ— æ³•ä¸ºå¯¹è±¡åˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´æ—¶ï¼ŒæŠ›å‡º <code>OutOfMemoryError</code>ã€‚å®ƒä¸æ˜¯ä¸€ç§é”™è¯¯ï¼Œè€Œæ˜¯å†…å­˜åˆ†é…å¤±è´¥çš„ä¿¡å·ã€‚</p><h3 id="ğŸ“Œ-å¸¸è§ç±»å‹"><a href="#ğŸ“Œ-å¸¸è§ç±»å‹" class="headerlink" title="ğŸ“Œ å¸¸è§ç±»å‹"></a>ğŸ“Œ å¸¸è§ç±»å‹</h3><table><thead><tr><th>ç±»å‹</th><th>å‡ºç°åœºæ™¯</th><th>åŸå› </th><th><strong>è§£å†³æ–¹æ¡ˆ</strong></th></tr></thead><tbody><tr><td><code>Java heap space</code></td><td>åˆ›å»ºå¤§é‡å¯¹è±¡ã€é›†åˆè¿‡å¤§</td><td>å †å†…å­˜ä¸è¶³</td><td>1. å¢å¤§å †ï¼š-Xmx4g 2. ä¿®å¤å†…å­˜æ³„æ¼ï¼ˆå¦‚è¯¯ç”¨é™æ€é›†åˆï¼‰</td></tr><tr><td><code>GC overhead limit exceeded</code></td><td>GC èŠ±å¤ªå¤šæ—¶é—´å›æ”¶å¾ˆå°‘å†…å­˜</td><td>å†…å­˜ç´§å¼ åå¤ GC</td><td>è®¾ç½®å‡ºç° OOM è‡ªåŠ¨ dump ï¼Œé…åˆå†…å­˜ç›‘æ§å’Œå †è½¬å‚¨åˆ†æ</td></tr><tr><td><code>Metaspace</code>ï¼ˆJDK8+ï¼‰</td><td>é¢‘ç¹åŠ è½½æ–°ç±»ã€ç±»ä¿¡æ¯æ³„éœ²</td><td>å…ƒç©ºé—´çˆ†æ»¡</td><td>1. å¢å¤§å…ƒç©ºé—´ï¼š-XX:MaxMetaspaceSize&#x3D;256m 2. æ£€æŸ¥åŠ¨æ€ç±»ç”Ÿæˆï¼ˆå¦‚åå°„ã€CGLIBï¼‰</td></tr><tr><td><code>Direct buffer memory</code></td><td>ä½¿ç”¨ NIO åˆ†é…å †å¤–å†…å­˜è¿‡å¤š</td><td>è¶…å‡º <code>-XX:MaxDirectMemorySize</code></td><td><code>-XX:MaxDirectMemorySize</code>è°ƒå¤§</td></tr><tr><td><code>unable to create new native thread</code></td><td>çº¿ç¨‹æ•°å¤ªå¤š</td><td>OS é™åˆ¶æˆ– native å†…å­˜ä¸è¶³</td><td>1. å‡å°‘çº¿ç¨‹æ•° 2. è°ƒå° -Xssï¼ˆè°¨æ…ä½¿ç”¨ï¼‰</td></tr><tr><td><code>Requested array size exceeds VM limit</code></td><td>ç”³è¯·æ•°ç»„è¿‡å¤§</td><td>è¶…è¿‡æœ€å¤§é™åˆ¶ï¼ˆå¦‚ 2GB é™åˆ¶ï¼‰</td><td>æ‹†åˆ†æ•°æ®æˆ–æ£€æŸ¥è®¡ç®—é€»è¾‘</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HeapOOM</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">1024</span>]); <span class="comment">// ä¸æ–­åˆ†é… 1MB</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>JVM è°ƒä¼˜å‚æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-Xms256m -Xmx256m        #è®¾ç½®å †å¤§å°</span><br><span class="line">-XX:MaxMetaspaceSize=64m #å…ƒç©ºé—´é™åˆ¶</span><br><span class="line">-XX:MaxDirectMemorySize=64m #ç›´æ¥å†…å­˜é™åˆ¶</span><br></pre></td></tr></table></figure><h3 id="å¸¸è§è§¦å‘åœºæ™¯"><a href="#å¸¸è§è§¦å‘åœºæ™¯" class="headerlink" title="å¸¸è§è§¦å‘åœºæ™¯"></a>å¸¸è§è§¦å‘åœºæ™¯</h3><table><thead><tr><th>åœºæ™¯</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ— é™å¢é•¿çš„æ•°æ®ç»“æ„</strong></td><td>å¦‚ Listã€Map æ²¡æœ‰é™åˆ¶æŒç»­æ·»åŠ å…ƒç´ </td></tr><tr><td><strong>ç¼“å­˜æ»¥ç”¨</strong></td><td>ç¼“å­˜æ²¡æœ‰æ·˜æ±°æœºåˆ¶</td></tr><tr><td><strong>å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå¤ªé•¿</strong></td><td>å¾ˆå°‘æœ‰å¯¹è±¡è¢«å›æ”¶</td></tr><tr><td><strong>å¤§å¯¹è±¡&#x2F;æ­»å¾ªç¯</strong></td><td>å¾ªç¯ä¸­åˆ›å»ºå¤§å¯¹è±¡ï¼ˆå¦‚ byte[1024*1024]ï¼‰</td></tr><tr><td><strong>ä½æ•ˆGCç­–ç•¥</strong></td><td>ä¸åˆç†çš„åƒåœ¾æ”¶é›†å™¨é…ç½®</td></tr><tr><td><strong>å †å†…å­˜è¿‡å°</strong></td><td><code>-Xmx</code>è®¾ç½®è¿‡ä½</td></tr><tr><td><strong>å†…å­˜æ³„æ¼</strong></td><td>æŸäº›å¯¹è±¡æ— æ³•é‡Šæ”¾ï¼ˆå¦‚ ThreadLocal æ³„æ¼ï¼‰ å¯¹è±¡æŒç»­å¢é•¿æ— æ³•å›æ”¶ï¼ˆå¦‚é™æ€Mapæœªæ¸…ç†ï¼‰</td></tr></tbody></table><h3 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a><strong>è§£å†³æ–¹æ¡ˆ</strong></h3><h4 id="ç´§æ€¥å¤„ç†ï¼ˆä¸´æ—¶ï¼‰"><a href="#ç´§æ€¥å¤„ç†ï¼ˆä¸´æ—¶ï¼‰" class="headerlink" title="ç´§æ€¥å¤„ç†ï¼ˆä¸´æ—¶ï¼‰"></a>ç´§æ€¥å¤„ç†ï¼ˆä¸´æ—¶ï¼‰</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¦ç”¨GCè¶…é™æ£€æŸ¥ï¼ˆä»…ä¸´æ—¶æµ‹è¯•ç”¨ï¼Œä¸è§£å†³æ ¹æœ¬é—®é¢˜ï¼‰</span></span><br><span class="line">java -XX:-UseGCOverheadLimit -jar your_app.jar</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¢å¤§å †å†…å­˜ï¼ˆç¤ºä¾‹ï¼šè®¾ç½®4Gå †ï¼‰</span></span><br><span class="line">java -Xms1g -Xmx4g -jar your_app.jar</span><br></pre></td></tr></table></figure><h4 id="æ ¹æœ¬æ€§ä¿®å¤"><a href="#æ ¹æœ¬æ€§ä¿®å¤" class="headerlink" title="æ ¹æœ¬æ€§ä¿®å¤"></a>æ ¹æœ¬æ€§ä¿®å¤</h4><p>å®šä½å†…å­˜æ³„æ¼ï¼Œç”¨å·¥å…·åˆ†æå †è½¬å‚¨ï¼š</p><ul><li><strong>Eclipse MAT</strong><br>ï¼šæŸ¥çœ‹ <code>Dominator Tree</code><br>æ‰¾åˆ°å ç”¨æœ€å¤§çš„å¯¹è±¡</li><li><strong>VisualVM</strong>ï¼šæ£€æŸ¥å¯¹è±¡å¢é•¿è¶‹åŠ¿</li></ul><p><strong>ä¿®å¤ä»£ç æ¼æ´</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¡ˆä¾‹ï¼šä¿®å¤é™æ€Mapæ³„æ¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LeakFix</span> &#123;</span><br><span class="line">    <span class="comment">// é”™è¯¯ï¼šé™æ€é›†åˆæœªæ¸…ç† â†’ æ”¹ç”¨WeakHashMap</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Key, Value&gt; cache = <span class="keyword">new</span> <span class="title class_">WeakHashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æˆ–æ·»åŠ å®šæœŸæ¸…ç†é€»è¾‘</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">clearCache</span><span class="params">()</span> &#123;</span><br><span class="line">        cache.clear();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜åŒ–æ•°æ®å­˜å‚¨</strong></p><ul><li>é¿å…ç”¨ <code>List</code>&#x2F;<code>Map</code><br>å­˜å‚¨æµ·é‡æ•°æ® â†’ æ”¹ç”¨æ•°æ®åº“æˆ–åˆ†ç‰‡å­˜å‚¨</li><li>ç”¨ <code>Stream</code><br>å¤„ç†å¤§æ–‡ä»¶æ›¿ä»£å…¨é‡åŠ è½½</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é”™è¯¯ï¼šFiles.readAllLines() åŠ è½½å¤§æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// æ­£ç¡®ï¼šæµå¼å¤„ç†</span></span><br><span class="line"><span class="keyword">try</span>(Stream&lt;String&gt; lines = Files.lines(Paths.get(<span class="string">&quot;large.txt&quot;</span>)))&#123;</span><br><span class="line">        lines.</span><br><span class="line"></span><br><span class="line">filter(line -&gt;line.</span><br><span class="line"></span><br><span class="line">contains(<span class="string">&quot;key&quot;</span>)).</span><br><span class="line"></span><br><span class="line">forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>è°ƒæ•´GCç­–ç•¥</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ‡æ¢åˆ°G1æ”¶é›†å™¨ï¼ˆé€‚åˆå¤§å †å†…å­˜ï¼‰</span></span><br><span class="line">java -XX:+UseG1GC -Xmx4g ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># è°ƒæ•´G1å…³é”®å‚æ•°ï¼ˆæ ¹æ®æœºå™¨é…ç½®ï¼‰</span></span><br><span class="line">-XX:G1NewSizePercent=30 </span><br><span class="line">-XX:MaxGCPauseMillis=200</span><br></pre></td></tr></table></figure><h3 id="é¢„é˜²æªæ–½"><a href="#é¢„é˜²æªæ–½" class="headerlink" title="é¢„é˜²æªæ–½"></a><strong>é¢„é˜²æªæ–½</strong></h3><ul><li><strong>ç›‘æ§GCè¡Œä¸º</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#æ‰“å°GCè¯¦æƒ…</span><br><span class="line">java -Xlog:gc*-</span><br><span class="line">jar your_app.jar</span><br><span class="line"></span><br><span class="line">#æˆ–ä½¿ç”¨JConsole/VisualVMå®æ—¶ç›‘æ§</span><br></pre></td></tr></table></figure><ul><li><strong>å‹åŠ›æµ‹è¯•</strong><br>ï¼šç”¨JMeteræ¨¡æ‹Ÿé«˜è´Ÿè½½ï¼Œæå‰æš´éœ²é—®é¢˜</li><li><strong>å†…å­˜é™åˆ¶</strong><br>ï¼šå®¹å™¨ç¯å¢ƒï¼ˆå¦‚Dockerï¼‰éœ€åŒæ­¥è°ƒæ•´ <code>-Xmx</code><br>å’Œå®¹å™¨å†…å­˜ä¸Šé™</li></ul><h2 id="è¯Šæ–­å»ºè®®"><a href="#è¯Šæ–­å»ºè®®" class="headerlink" title="è¯Šæ–­å»ºè®®"></a>è¯Šæ–­å»ºè®®</h2><table><thead><tr><th>å·¥å…·</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>jstack</code></td><td>æ‰“å°çº¿ç¨‹æ ˆï¼ŒæŸ¥çœ‹æ ˆæº¢å‡ºåŸå› </td></tr><tr><td><code>jmap -heap</code></td><td>æŸ¥çœ‹å †ä½¿ç”¨æƒ…å†µ</td></tr><tr><td><code>VisualVM</code> &#x2F; <code>MAT</code></td><td>åˆ†æå †è½¬å‚¨æ–‡ä»¶ï¼Œå®šä½ OOM æºå¤´</td></tr><tr><td><code>-XX:+HeapDumpOnOutOfMemoryError</code></td><td>å‡ºç° OOM è‡ªåŠ¨ dump å†…å­˜</td></tr></tbody></table><h1 id="GCæ”¶é›†å™¨"><a href="#GCæ”¶é›†å™¨" class="headerlink" title="GCæ”¶é›†å™¨"></a>GCæ”¶é›†å™¨</h1><p>é€‰æ‹©åƒåœ¾å›æ”¶å™¨</p><table><thead><tr><th>æ”¶é›†å™¨åç§°</th><th>ç±»å‹</th><th>ç‰¹ç‚¹</th><th>JDK æ”¯æŒç‰ˆæœ¬</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Serial GC</strong></td><td>å•çº¿ç¨‹</td><td>ç®€å•ã€åœé¡¿æ—¶é—´é•¿</td><td>JDK 1.2+</td><td>å°å†…å­˜ã€å®¢æˆ·ç«¯åº”ç”¨</td></tr><tr><td><strong>ParNew GC</strong></td><td>å¤šçº¿ç¨‹</td><td>Serial çš„å¹¶è¡Œç‰ˆ</td><td>JDK 1.4+</td><td>é…åˆ CMS ä½¿ç”¨</td></tr><tr><td><strong>Parallel GCï¼ˆååé‡ä¼˜å…ˆï¼‰</strong></td><td>å¤šçº¿ç¨‹</td><td>é»˜è®¤æ”¶é›†å™¨ï¼Œå…³æ³¨ååé‡</td><td>JDK 1.5+</td><td>é«˜ååã€æ— å®æ—¶æ€§è¦æ±‚</td></tr><tr><td><strong>CMSï¼ˆConcurrent Mark Sweepï¼‰</strong></td><td>å¹¶å‘</td><td>ä½å»¶è¿Ÿï¼Œå“åº”å¿«ï¼Œè€å¹´ä»£å¹¶å‘å›æ”¶ï¼Œ å¹¶å‘æ ‡è®°æ¸…é™¤ï¼Œä½åœé¡¿</td><td>JDK 1.5+ï¼ˆJDK 14 åºŸå¼ƒï¼‰</td><td>é€‚åˆ Web æœåŠ¡ï¼ˆå¦‚ç”µå•†ï¼‰</td></tr><tr><td><strong>G1ï¼ˆGarbage Firstï¼‰</strong></td><td>å¹¶å‘+åˆ†åŒº</td><td>é¢„æµ‹åœé¡¿æ—¶é—´ã€å †åˆ‡åˆ†ä¸º Region</td><td>JDK 7u4+ï¼ˆJDK 9 é»˜è®¤ï¼‰</td><td>å¤§å†…å­˜åœºæ™¯ã€å¯é¢„æµ‹åœé¡¿</td></tr><tr><td><strong>ZGCï¼ˆZ Garbage Collectorï¼‰</strong></td><td>å¹¶å‘</td><td>æä½å»¶è¿Ÿï¼ˆ&lt;10msï¼‰ï¼Œæ”¯æŒ TB çº§å †</td><td>JDK 11+</td><td>å¤§æ•°æ®ã€ä½å»¶è¿Ÿè¦æ±‚</td></tr></tbody></table><h1 id="JVMå‚æ•°"><a href="#JVMå‚æ•°" class="headerlink" title="JVMå‚æ•°"></a>JVMå‚æ•°</h1><h2 id="ä¸‰ç§ç±»å‹"><a href="#ä¸‰ç§ç±»å‹" class="headerlink" title="ä¸‰ç§ç±»å‹"></a>ä¸‰ç§ç±»å‹</h2><h3 id="æ ‡å‡†å‚æ•°ï¼ˆ-ï¼‰"><a href="#æ ‡å‡†å‚æ•°ï¼ˆ-ï¼‰" class="headerlink" title="æ ‡å‡†å‚æ•°ï¼ˆ-ï¼‰"></a><strong>æ ‡å‡†å‚æ•°ï¼ˆ-ï¼‰</strong></h3><p>è¿™äº›å‚æ•°ç”± Java å®˜æ–¹è§„èŒƒå®šä¹‰ï¼Œé€‚ç”¨äºæ‰€æœ‰ JVM å®ç°ï¼Œé€šå¸¸ä»¥ <code>-</code> å¼€å¤´ã€‚</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-classpath</code> æˆ– <code>-cp</code></td><td>è®¾ç½®ç±»è·¯å¾„</td></tr><tr><td><code>-D&lt;name&gt;=&lt;value&gt;</code></td><td>è®¾ç½®ç³»ç»Ÿå±æ€§</td></tr><tr><td><code>-version</code></td><td>æŸ¥çœ‹å½“å‰ JVM ç‰ˆæœ¬</td></tr><tr><td><code>-jar</code></td><td>è¿è¡Œå¯æ‰§è¡Œ JAR åŒ…</td></tr><tr><td><code>-X</code></td><td>æŸ¥çœ‹æ‰€æœ‰éæ ‡å‡†å‚æ•°</td></tr><tr><td><code>-help</code></td><td>æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯</td></tr></tbody></table><h3 id="éæ ‡å‡†å‚æ•°ï¼ˆ-Xï¼‰"><a href="#éæ ‡å‡†å‚æ•°ï¼ˆ-Xï¼‰" class="headerlink" title="éæ ‡å‡†å‚æ•°ï¼ˆ-Xï¼‰"></a>éæ ‡å‡†å‚æ•°ï¼ˆ-Xï¼‰</h3><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-Xms&lt;size&gt;</code></td><td>åˆå§‹å †å¤§å°</td></tr><tr><td><code>-Xmx&lt;size&gt;</code></td><td>æœ€å¤§å †å¤§å°</td></tr><tr><td><code>-Xmn&lt;size&gt;</code></td><td>æ–°ç”Ÿä»£å¤§å°</td></tr><tr><td><code>-Xss&lt;size&gt;</code></td><td>æ¯ä¸ªçº¿ç¨‹æ ˆå¤§å°</td></tr><tr><td><code>-Xloggc:&lt;file&gt;</code></td><td>å°† GC æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶</td></tr><tr><td><code>-XshowSettings</code></td><td>æ˜¾ç¤º JVM é…ç½®</td></tr></tbody></table><h3 id="é«˜çº§å‚æ•°ï¼ˆ-XXï¼‰"><a href="#é«˜çº§å‚æ•°ï¼ˆ-XXï¼‰" class="headerlink" title="é«˜çº§å‚æ•°ï¼ˆ-XXï¼‰"></a><strong>é«˜çº§å‚æ•°ï¼ˆ-XXï¼‰</strong></h3><p>è¿™ä¹Ÿæ˜¯éæ ‡å‡†åŒ–å‚æ•°ï¼Œç›¸å¯¹æ¥è¯´ä¸ç¨³å®šï¼Œéšç€JVMç‰ˆæœ¬çš„å˜åŒ–å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ï¼Œä¸»è¦ç”¨äºJVMè°ƒä¼˜å’Œdebugã€‚</p><p>è¯¥å‚æ•°çš„ä¹¦å†™å½¢å¼åˆåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><h4 id="Booleanç±»å‹"><a href="#Booleanç±»å‹" class="headerlink" title="Booleanç±»å‹"></a>Booleanç±»å‹</h4><p>æ ¼å¼ï¼š-XX:[+-] è¡¨ç¤ºå¯ç”¨æˆ–è€…ç¦ç”¨nameå±æ€§ã€‚</p><p>ä¾‹å­ï¼š-XX:+UseG1GCï¼ˆè¡¨ç¤ºå¯ç”¨G1åƒåœ¾æ”¶é›†å™¨ï¼‰</p><h4 id="Key-Valueç±»å‹"><a href="#Key-Valueç±»å‹" class="headerlink" title="Key-Valueç±»å‹"></a>Key-Valueç±»å‹</h4><p>æ ¼å¼ï¼š-XX:&#x3D; è¡¨ç¤ºnameçš„å±æ€§å€¼ä¸ºvalueã€‚</p><p>ä¾‹å­ï¼š-XX:MaxGCPauseMillis&#x3D;500ï¼ˆè¡¨ç¤ºè®¾ç½®GCçš„æœ€å¤§åœé¡¿æ—¶é—´æ˜¯500msï¼‰</p><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>-XX:+UseG1GC</code></td><td>å¯ç”¨ G1 åƒåœ¾å›æ”¶å™¨</td></tr><tr><td><code>-XX:+PrintGCDetails</code></td><td>æ‰“å°è¯¦ç»† GC æ—¥å¿—</td></tr><tr><td><code>-XX:+HeapDumpOnOutOfMemoryError</code></td><td>OOM æ—¶ç”Ÿæˆ heap dump</td></tr><tr><td><code>-XX:MaxMetaspaceSize=256m</code></td><td>è®¾ç½®å…ƒç©ºé—´ä¸Šé™</td></tr><tr><td><code>-XX:+UseCompressedOops</code></td><td>å¯ç”¨å¯¹è±¡æŒ‡é’ˆå‹ç¼©ï¼ˆé»˜è®¤å¯ç”¨ï¼‰</td></tr><tr><td><code>-XX:+UnlockExperimentalVMOptions</code></td><td>è§£é”å®éªŒå‚æ•°ï¼ˆå¦‚ä½¿ç”¨ ZGCï¼‰</td></tr></tbody></table><h1 id="JVMå¯åŠ¨å‚æ•°"><a href="#JVMå¯åŠ¨å‚æ•°" class="headerlink" title="JVMå¯åŠ¨å‚æ•°"></a>JVMå¯åŠ¨å‚æ•°</h1><h2 id="å †å†…å­˜è®¾ç½®ï¼ˆæ§åˆ¶å †ç»“æ„ï¼‰"><a href="#å †å†…å­˜è®¾ç½®ï¼ˆæ§åˆ¶å †ç»“æ„ï¼‰" class="headerlink" title="å †å†…å­˜è®¾ç½®ï¼ˆæ§åˆ¶å †ç»“æ„ï¼‰"></a>å †å†…å­˜è®¾ç½®ï¼ˆæ§åˆ¶å †ç»“æ„ï¼‰</h2><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>å¸¸ç”¨å€¼</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>-Xms</code></td><td>åˆå§‹å †å¤§å°</td><td>ä¸ <code>-Xmx</code> ä¸€è‡´</td><td>é¿å…æ‰©å®¹å¸¦æ¥çš„ Full GC</td></tr><tr><td><code>-Xmx</code></td><td>æœ€å¤§å †å¤§å°</td><td>å¦‚ <code>2g</code>, <code>4g</code>, <code>8g</code></td><td>æ ¹æ®ä¸šåŠ¡å†…å­˜å‹åŠ›è®¾å®š</td></tr><tr><td><code>-Xmn</code></td><td>æ–°ç”Ÿä»£å¤§å°</td><td>å¦‚ <code>512m</code>, <code>1g</code></td><td>è¯·æ±‚é¢‘ç¹ã€çŸ­å‘½å¯¹è±¡å¤šçš„åº”ç”¨</td></tr><tr><td><code>-XX:NewRatio</code></td><td>è€å¹´ä»£:æ–°ç”Ÿä»£æ¯”ä¾‹</td><td>é»˜è®¤ <code>2</code>ï¼›æ¨è <code>1~4</code></td><td>æ§åˆ¶æ–°è€ä»£æ¯”ï¼Œæ—  <code>-Xmn</code> æ—¶ç”Ÿæ•ˆ</td></tr><tr><td><code>-XX:SurvivorRatio</code></td><td>Eden ä¸ Survivor æ¯”</td><td>é»˜è®¤ <code>8</code>ï¼Œå¯è°ƒ <code>6~10</code></td><td>Survivor ä¸è¶³æ—¶è°ƒå°æ­¤å€¼</td></tr><tr><td><code>-XX:MaxTenuringThreshold</code></td><td>å¯¹è±¡åœ¨ Survivor åŒºå­˜æ´»å‡ æ¬¡åæ™‹å‡è€å¹´ä»£</td><td><code>1~15</code>ï¼ˆé»˜è®¤ <code>15</code>ï¼‰</td><td>çŸ­å‘½å¯¹è±¡å¤šæ—¶å»ºè®®è®¾å°ï¼Œé¿å… Survivor æº¢å‡º</td></tr></tbody></table><h2 id="GC-ç­–ç•¥ä¸ç›¸å…³å‚æ•°"><a href="#GC-ç­–ç•¥ä¸ç›¸å…³å‚æ•°" class="headerlink" title="GC ç­–ç•¥ä¸ç›¸å…³å‚æ•°"></a>GC ç­–ç•¥ä¸ç›¸å…³å‚æ•°</h2><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>å»ºè®®å€¼</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>-XX:+UseG1GC</code></td><td>ä½¿ç”¨ G1 æ”¶é›†å™¨</td><td>âœ… æ¨è</td><td>å¤§å †ã€å“åº”æ•æ„Ÿåœºæ™¯</td></tr><tr><td><code>-XX:+UseZGC</code></td><td>ä½¿ç”¨ ZGC</td><td>âœ… æ–°ç‰ˆæœ¬</td><td>è¶…ä½å»¶è¿Ÿï¼ˆ&lt;10msï¼‰ï¼Œå¤§å†…å­˜åœºæ™¯</td></tr><tr><td><code>-XX:+UseParallelGC</code></td><td>ååä¼˜å…ˆ</td><td>é€‚åˆè®¡ç®—å‹ä»»åŠ¡</td><td></td></tr><tr><td><code>-XX:+UseSerialGC</code></td><td>å•çº¿ç¨‹ GC</td><td>åµŒå…¥å¼ã€ä½èµ„æºç¯å¢ƒ</td><td></td></tr><tr><td><code>-XX:MaxGCPauseMillis</code></td><td>G1 GC æœ€å¤§æš‚åœæ—¶é—´æœŸæœ›</td><td>ç›®æ ‡å¦‚ <code>200</code> æ¯«ç§’</td><td>G1 è°ƒä¼˜æ ¸å¿ƒå‚æ•°</td></tr><tr><td><code>-XX:G1HeapRegionSize</code></td><td>G1 åˆ†åŒºç²’åº¦</td><td><code>1m</code>, <code>2m</code>, <code>4m</code> ç­‰</td><td>å †å¤§æ—¶è®¾ç½®å¤§ç²’åº¦ï¼ˆ4g ä»¥ä¸Šè®¾ 4mï¼‰</td></tr><tr><td><code>-XX:InitiatingHeapOccupancyPercent</code></td><td>G1 è§¦å‘å¹¶å‘ GC é˜ˆå€¼</td><td>é»˜è®¤ <code>45</code>ï¼Œæ¨è <code>30~40</code></td><td>é™ä½ Full GC è§¦å‘æ¦‚ç‡</td></tr></tbody></table><h2 id="è¯Šæ–­ä¸ç¨³å®šæ€§å‚æ•°"><a href="#è¯Šæ–­ä¸ç¨³å®šæ€§å‚æ•°" class="headerlink" title="è¯Šæ–­ä¸ç¨³å®šæ€§å‚æ•°"></a>è¯Šæ–­ä¸ç¨³å®šæ€§å‚æ•°</h2><table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>ç”¨é€”</th></tr></thead><tbody><tr><td><code>-XX:+PrintGCDetails</code></td><td>æ‰“å° GC è¯¦æƒ…</td><td>åˆ†æ GC æƒ…å†µ</td></tr><tr><td><code>-XX:+PrintGCDateStamps</code></td><td>æ‰“å°æ—¶é—´æˆ³</td><td>ç²¾å‡†å®šä½ GC æ—¶é—´</td></tr><tr><td><code>-Xloggc:&lt;file&gt;</code></td><td>GC æ—¥å¿—è¾“å‡ºè·¯å¾„</td><td>GC åˆ†æå·¥å…·è¾“å…¥</td></tr><tr><td><code>-XX:+HeapDumpOnOutOfMemoryError</code></td><td>OOM æ—¶å¯¼å‡ºå †å¿«ç…§</td><td>å†…å­˜æ³„æ¼æ’æŸ¥</td></tr><tr><td><code>-XX:HeapDumpPath=&lt;file&gt;</code></td><td>OOM dump æ–‡ä»¶è·¯å¾„</td><td>æ­é…ä¸Šé¢å‚æ•°ä½¿ç”¨</td></tr><tr><td><code>-XX:+UseContainerSupport</code></td><td>æ”¯æŒå®¹å™¨å†…èµ„æºé™åˆ¶</td><td>é»˜è®¤å¼€å¯ï¼ˆJDK10+ï¼‰</td></tr></tbody></table><h1 id="JDK8åœºæ™¯"><a href="#JDK8åœºæ™¯" class="headerlink" title="JDK8åœºæ™¯"></a>JDK8åœºæ™¯</h1><p>æ„å»ºgcä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.luis.jdk8.tech.jvm.gc_tech;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Luis</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 2025/06/04 12:14</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GcDemo</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">_1MB</span> <span class="operator">=</span> <span class="number">1024</span> * <span class="number">1024</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;all&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="comment">// ç”¨äºå¡«å……Edençš„å¯¹è±¡åˆ—è¡¨</span></span><br><span class="line">        List&lt;<span class="type">byte</span>[]&gt; edenContainer = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹å¡«å……EdenåŒº...&quot;</span>);</span><br><span class="line">        <span class="comment">// æŒç»­åˆ†é…å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// åˆ†é…ä¸€ä¸ª0.5MB - 1.5MBå¤§å°çš„å¯¹è±¡ (é¿å…å…¨æ˜¯ç›¸åŒå¤§å°,æ—¥å¿—å‡ ä¹ç›¸åŒ)</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">500</span> * <span class="number">1024</span> + random.nextInt(<span class="number">1024</span> * <span class="number">1024</span>);</span><br><span class="line">            <span class="comment">// æŒæœ‰å¼•ç”¨ï¼Œé˜²æ­¢ç«‹å³è¢«å›æ”¶</span></span><br><span class="line">            edenContainer.add(<span class="keyword">new</span> <span class="title class_">byte</span>[size]);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ¨¡æ‹Ÿä¸€ç‚¹ç‚¹ä¸šåŠ¡é€»è¾‘ï¼Œç¨å¾®å‡æ…¢åˆ†é…é€Ÿåº¦ï¼Œæ›´è´´è¿‘çœŸå®åœºæ™¯</span></span><br><span class="line">            Thread.sleep(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å¯é€‰ï¼šå®šæœŸç§»é™¤éƒ¨åˆ†å¼•ç”¨ï¼Œè®©éƒ¨åˆ†å¯¹è±¡å¯å›æ”¶ï¼ˆæ¨¡æ‹Ÿéƒ¨åˆ†çŸ­å‘½å¯¹è±¡ï¼‰</span></span><br><span class="line">            <span class="keyword">if</span> (edenContainer.size() % <span class="number">100</span> == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// ç§»é™¤åˆ—è¡¨å‰50ä¸ªå…ƒç´ çš„å¼•ç”¨ (è®©å®ƒä»¬åœ¨ä¸‹æ–‡GCä¸­å¯å›æ”¶)</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span> &amp;&amp; !edenContainer.isEmpty(); i++) &#123;</span><br><span class="line">                    edenContainer.remove(<span class="number">0</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ·»åŠ jvmå¯åŠ¨å‘½ä»¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># for idea vm</span><br><span class="line">-Xms512m</span><br><span class="line">-Xmx512m</span><br><span class="line">-Xmn128m</span><br><span class="line">-XX:SurvivorRatio=8</span><br><span class="line">-XX:+UseParNewGC</span><br><span class="line">-XX:+UseConcMarkSweepGC</span><br><span class="line">-XX:CMSInitiatingOccupancyFraction=75</span><br><span class="line">-XX:+PrintGCDetails</span><br><span class="line">-XX:+PrintGCDateStamps</span><br><span class="line">-Xloggc:gc.log</span><br><span class="line"></span><br><span class="line"># for jar</span><br><span class="line">java -Xms512m -Xmx512m \ # å †æ€»å¤§å°512MB</span><br><span class="line">     -Xmn256m            \ # æ–°ç”Ÿä»£256MB (Eden + S0 + S1)</span><br><span class="line">     -XX:SurvivorRatio=8 \ # Eden:S0:S1 = 8:1:1 (Eden~204.8MB, S0/S1~25.6MB)</span><br><span class="line">     -XX:+UseParNewGC    \ # æ–°ç”Ÿä»£ä½¿ç”¨ParNew</span><br><span class="line">     -XX:+UseConcMarkSweepGC \ # è€å¹´ä»£ä½¿ç”¨CMS</span><br><span class="line">     -XX:CMSInitiatingOccupancyFraction=75 \ # è€å¹´ä»£ä½¿ç”¨75%æ—¶å¯åŠ¨CMS</span><br><span class="line">     -XX:+UseCMSInitiatingOccupancyOnly \ # ä»…æ ¹æ®å ç”¨ç‡è§¦å‘CMS</span><br><span class="line">     -XX:+PrintGCDetails \ # æ‰“å°è¯¦ç»†GCæ—¥å¿—</span><br><span class="line">     -XX:+PrintGCDateStamps \ # æ‰“å°GCå‘ç”Ÿæ—¶é—´</span><br><span class="line">     -XX:+PrintTenuringDistribution \ # æ‰“å°æ™‹å‡å¹´é¾„ä¿¡æ¯</span><br><span class="line">     -Xloggc:gc.log      \ # å°†GCæ—¥å¿—è¾“å‡ºåˆ°gc.log</span><br><span class="line">     -XX:+DisableExplicitGC \ # ç¦æ­¢System.gc()å¹²æ‰°</span><br><span class="line">     -jar demo-luis.jar</span><br></pre></td></tr></table></figure><p>gcéƒ¨åˆ†æ—¥å¿—</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">Java HotSpot(TM) 64-Bit Server VM (25.202-b08) for windows-amd64 JRE (1.8.0_202-b08), built on Dec 15 2018 19:54:30 by &quot;java_re&quot; with MS VC++ 10.0 (VS2010)</span><br><span class="line">Memory: 4k page, physical 33363252k(16577640k free), swap 39130420k(12508580k free)</span><br><span class="line">CommandLine flags: -XX:CMSInitiatingOccupancyFraction=75 -XX:InitialHeapSize=536870912 -XX:MaxHeapSize=536870912 -XX:MaxNewSize=134217728 -XX:NewSize=134217728 -XX:OldPLABSize=16 -XX:+PrintGC -XX:+PrintGCDateStamps -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:SurvivorRatio=8 -XX:+UseCMSInitiatingOccupancyOnly -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseConcMarkSweepGC -XX:-UseLargePagesIndividualAllocation -XX:+UseParNewGC </span><br><span class="line">2025-06-04T12:27:23.753+0800: 0.169: [GC (Allocation Failure) 2025-06-04T12:27:23.753+0800: 0.170: [ParNew: 104876K-&gt;12778K(118016K), 0.0163323 secs] 104876K-&gt;51738K(511232K), 0.0164134 secs] [Times: user=0.00 sys=0.00, real=0.02 secs] </span><br><span class="line">2025-06-04T12:27:23.880+0800: 0.297: [GC (Allocation Failure) 2025-06-04T12:27:23.880+0800: 0.297: [ParNew: 116554K-&gt;13050K(118016K), 0.0284856 secs] 155514K-&gt;141179K(511232K), 0.0285187 secs] [Times: user=0.06 sys=0.02, real=0.03 secs] </span><br><span class="line">2025-06-04T12:27:24.026+0800: 0.443: [GC (Allocation Failure) 2025-06-04T12:27:24.026+0800: 0.443: [ParNew: 117547K-&gt;12861K(118016K), 0.0274540 secs] 245676K-&gt;228752K(511232K), 0.0274894 secs] [Times: user=0.05 sys=0.03, real=0.03 secs] </span><br><span class="line">2025-06-04T12:27:24.172+0800: 0.589: [GC (Allocation Failure) 2025-06-04T12:27:24.172+0800: 0.589: [ParNew: 117126K-&gt;12795K(118016K), 0.0144786 secs] 333017K-&gt;266179K(511232K), 0.0145109 secs] [Times: user=0.01 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:24.307+0800: 0.724: [GC (Allocation Failure) 2025-06-04T12:27:24.307+0800: 0.724: [ParNew: 117465K-&gt;12893K(118016K), 0.0179375 secs] 370849K-&gt;312796K(511232K), 0.0179793 secs] [Times: user=0.02 sys=0.00, real=0.02 secs] </span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [GC (CMS Initial Mark) [1 CMS-initial-mark: 299903K(393216K)] 313996K(511232K), 0.0001349 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-mark-start]</span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-mark: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-preclean-start]</span><br><span class="line">2025-06-04T12:27:24.326+0800: 0.743: [CMS-concurrent-preclean: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.326+0800: 0.743: [CMS-concurrent-abortable-preclean-start]</span><br><span class="line">2025-06-04T12:27:24.445+0800: 0.861: [GC (Allocation Failure) 2025-06-04T12:27:24.445+0800: 0.861: [ParNew: 117642K-&gt;12925K(118016K), 0.0192145 secs] 417545K-&gt;359678K(511232K), 0.0192600 secs] [Times: user=0.00 sys=0.00, real=0.02 secs] </span><br><span class="line">2025-06-04T12:27:24.464+0800: 0.881: [CMS-concurrent-abortable-preclean: 0.000/0.138 secs] [Times: user=0.00 sys=0.00, real=0.14 secs] </span><br><span class="line">2025-06-04T12:27:24.464+0800: 0.881: [GC (CMS Final Remark) [YG occupancy: 13523 K (118016 K)]2025-06-04T12:27:24.464+0800: 0.881: [Rescan (parallel) , 0.0004817 secs]2025-06-04T12:27:24.464+0800: 0.881: [weak refs processing, 0.0000105 secs]2025-06-04T12:27:24.464+0800: 0.881: [class unloading, 0.0001355 secs]2025-06-04T12:27:24.464+0800: 0.881: [scrub symbol table, 0.0001910 secs]2025-06-04T12:27:24.464+0800: 0.882: [scrub string table, 0.0000666 secs][1 CMS-remark: 346752K(393216K)] 360275K(511232K), 0.0009259 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-sweep-start]</span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-sweep: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-reset-start]</span><br><span class="line">2025-06-04T12:27:24.466+0800: 0.883: [CMS-concurrent-reset: 0.001/0.001 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.580+0800: 0.997: [GC (Allocation Failure) 2025-06-04T12:27:24.580+0800: 0.997: [ParNew: 116700K-&gt;12917K(118016K), 0.0079314 secs] 210742K-&gt;160642K(511232K), 0.0079722 secs] [Times: user=0.02 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:24.697+0800: 1.114: [GC (Allocation Failure) 2025-06-04T12:27:24.697+0800: 1.114: [ParNew: 117278K-&gt;13019K(118016K), 0.0148061 secs] 265003K-&gt;209342K(511232K), 0.0148437 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:24.827+0800: 1.244: [GC (Allocation Failure) 2025-06-04T12:27:24.827+0800: 1.244: [ParNew: 117829K-&gt;12799K(118016K), 0.0058725 secs] 314153K-&gt;258724K(511232K), 0.0059129 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:24.959+0800: 1.376: [GC (Allocation Failure) 2025-06-04T12:27:24.959+0800: 1.376: [ParNew: 117566K-&gt;13016K(118016K), 0.0070007 secs] 363491K-&gt;315011K(511232K), 0.0070522 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:24.965+0800: 1.383: [GC (CMS Initial Mark) [1 CMS-initial-mark: 301994K(393216K)] 315720K(511232K), 0.0001801 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.965+0800: 1.383: [CMS-concurrent-mark-start]</span><br><span class="line">2025-06-04T12:27:24.967+0800: 1.384: [CMS-concurrent-mark: 0.001/0.001 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.967+0800: 1.384: [CMS-concurrent-preclean-start]</span><br><span class="line">2025-06-04T12:27:24.967+0800: 1.384: [CMS-concurrent-preclean: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:24.967+0800: 1.384: [CMS-concurrent-abortable-preclean-start]</span><br><span class="line">2025-06-04T12:27:25.091+0800: 1.508: [GC (Allocation Failure) 2025-06-04T12:27:25.091+0800: 1.508: [ParNew: 116822K-&gt;12800K(118016K), 0.0073121 secs] 418817K-&gt;372648K(511232K), 0.0073478 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] </span><br><span class="line">2025-06-04T12:27:25.098+0800: 1.515: [CMS-concurrent-abortable-preclean: 0.001/0.131 secs] [Times: user=0.00 sys=0.00, real=0.13 secs] </span><br><span class="line">2025-06-04T12:27:25.098+0800: 1.515: [GC (CMS Final Remark) [YG occupancy: 14025 K (118016 K)]2025-06-04T12:27:25.099+0800: 1.515: [Rescan (parallel) , 0.0003286 secs]2025-06-04T12:27:25.099+0800: 1.516: [weak refs processing, 0.0000050 secs]2025-06-04T12:27:25.099+0800: 1.516: [class unloading, 0.0001736 secs]2025-06-04T12:27:25.099+0800: 1.516: [scrub symbol table, 0.0002183 secs]2025-06-04T12:27:25.099+0800: 1.516: [scrub string table, 0.0000787 secs][1 CMS-remark: 359847K(393216K)] 373872K(511232K), 0.0008354 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:25.099+0800: 1.516: [CMS-concurrent-sweep-start]</span><br><span class="line">2025-06-04T12:27:25.100+0800: 1.516: [CMS-concurrent-sweep: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:25.100+0800: 1.516: [CMS-concurrent-reset-start]</span><br><span class="line">2025-06-04T12:27:25.100+0800: 1.517: [CMS-concurrent-reset: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line">2025-06-04T12:27:25.219+0800: 1.636: [GC (Allocation Failure) 2025-06-04T12:27:25.219+0800: 1.636: [ParNew: 117623K-&gt;12593K(118016K), 0.0076113 secs] 232551K-&gt;196120K(511232K), 0.0076467 secs] [Times: user=0.03 sys=0.00, real=0.01 secs] </span><br><span class="line">Heap</span><br><span class="line"> par new generation   total 118016K, used 61904K [0x00000000e0000000, 0x00000000e8000000, 0x00000000e8000000)</span><br><span class="line">  eden space 104960K,  46% used [0x00000000e0000000, 0x00000000e3027a68, 0x00000000e6680000)</span><br><span class="line">  from space 13056K,  96% used [0x00000000e6680000, 0x00000000e72cc660, 0x00000000e7340000)</span><br><span class="line">  to   space 13056K,   0% used [0x00000000e7340000, 0x00000000e7340000, 0x00000000e8000000)</span><br><span class="line"> concurrent mark-sweep generation total 393216K, used 183527K [0x00000000e8000000, 0x0000000100000000, 0x0000000100000000)</span><br><span class="line"> Metaspace       used 3747K, capacity 4604K, committed 4864K, reserved 1056768K</span><br><span class="line">  class space    used 409K, capacity 428K, committed 512K, reserved 1048576K</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="CommandLine-flags"><a href="#CommandLine-flags" class="headerlink" title="CommandLine flags"></a>CommandLine flags</h2><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">å †é…ç½®ï¼š</span><br><span class="line">  - æ€»å †ï¼š512MB (536,870,912B)</span><br><span class="line">  - æ–°ç”Ÿä»£ï¼š128MB (134,217,728B)</span><br><span class="line">    - Edenï¼š104,960KB (128MB Ã— 8/10)</span><br><span class="line">    - Survivor Ã—2ï¼šå„13,056KB (128MB Ã— 1/10)</span><br><span class="line">  - è€å¹´ä»£ï¼š384MB (393,216KB)</span><br><span class="line">GCç­–ç•¥ï¼š</span><br><span class="line">  - æ–°ç”Ÿä»£ï¼šParNew (å¹¶è¡Œå¤åˆ¶)</span><br><span class="line">  - è€å¹´ä»£ï¼šCMS (å¹¶å‘æ ‡è®°æ¸…é™¤)</span><br><span class="line">è§¦å‘æ¡ä»¶ï¼š</span><br><span class="line">  - CMSåœ¨75<span class="comment">%è€å¹´ä»£å ç”¨æ—¶è§¦å‘ (393,216KB Ã— 0.75 = 294,912KB)</span></span><br></pre></td></tr></table></figure><h2 id="æ–°ç”Ÿä»£GC"><a href="#æ–°ç”Ÿä»£GC" class="headerlink" title="æ–°ç”Ÿä»£GC"></a>æ–°ç”Ÿä»£GC</h2><p>æ—¥å¿—è§£æ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2025-06-04T12:27:23.753+0800:</span><br><span class="line">0.169:</span><br><span class="line">[GC (Allocation Failure)</span><br><span class="line">2025-06-04T12:27:23.753+0800: 0.170:</span><br><span class="line">[ParNew: 104876K-&gt;12778K(118016K), 0.0163323 secs] </span><br><span class="line">104876K-&gt;51738K(511232K), 0.0164134 secs]</span><br><span class="line">[Times: user=0.00 sys=0.00, real=0.02 secs] </span><br></pre></td></tr></table></figure><table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>2025-06-04T12:27:23.753+0800</code></td><td>æ—¥å¿—æ—¶é—´æˆ³ï¼Œè¡¨ç¤ºå‘ç”Ÿ GC çš„<strong>å®é™…æ—¥æœŸå’Œæ—¶é—´</strong>ã€‚</td></tr><tr><td><code>0.169</code></td><td>ä» JVM å¯åŠ¨ä»¥æ¥çš„æ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ï¼Œå³åœ¨å¯åŠ¨å <strong>0.169 ç§’æ—¶</strong>å‘ç”Ÿ GCã€‚</td></tr><tr><td><code>[GC (Allocation Failure)</code></td><td>GC ç±»å‹ä¸º <strong>Minor GC</strong>ï¼ŒåŸå› æ˜¯å†…å­˜åˆ†é…å¤±è´¥ï¼ˆEden åŒºä¸è¶³ï¼‰ã€‚</td></tr><tr><td><code>2025-06-04T12:27:23.753+0800: 0.170:</code></td><td>å†æ¬¡æ‰“å°æ—¶é—´æˆ³ï¼Œé‡å¤ä¿¡æ¯ï¼Œæœ‰æ—¶ç”¨äºè®°å½•å¤šçº¿ç¨‹ GC å†…éƒ¨æ—¶é—´ç‚¹ã€‚</td></tr><tr><td><code>[ParNew: 104876K-&gt;12778K(118016K)</code></td><td><strong>ParNew æ–°ç”Ÿä»£ GC è¯¦ç»†ä¿¡æ¯</strong>ï¼š<br>â€¢ GC å‰ä½¿ç”¨ <code>104876K</code><br>â€¢ GC åå‰© <code>12778K</code><br>â€¢ æ–°ç”Ÿä»£æ€»å¤§å° <code>118016K</code></td></tr><tr><td><code>0.0163323 secs]</code></td><td>è¿™ä¸€é˜¶æ®µ GC è€—æ—¶çº¦ <code>16.3 æ¯«ç§’</code>ã€‚</td></tr><tr><td><code>104876K-&gt;51738K(511232K)</code></td><td>æ•´ä¸ªå †ï¼ˆåŒ…æ‹¬æ–°ç”Ÿä»£ + è€å¹´ä»£ï¼‰å˜åŒ–ï¼š<br> â€¢ GC å‰æ€»ä½¿ç”¨ <code>104876K</code><br>â€¢ GC åæ€»ä½¿ç”¨ <code>51738K</code><br>â€¢ æ€»å †å¤§å°ä¸º <code>511232K</code></td></tr><tr><td><code>0.0164134 secs]</code></td><td>æ€»çš„ GC è€—æ—¶ï¼ˆåŒ…æ‹¬ä»æ–°ç”Ÿä»£å¤åˆ¶åˆ°è€å¹´ä»£çš„æ—¶é—´ï¼‰çº¦ <code>16.4 æ¯«ç§’</code>ã€‚</td></tr><tr><td><code>[Times: user=0.00 sys=0.00, real=0.02 secs]</code></td><td>GC çº¿ç¨‹çš„ CPU ä½¿ç”¨æ—¶é—´ï¼š<br>â€¢ <code>user</code>: ç”¨æˆ·æ€çº¿ç¨‹æ—¶é—´<br>â€¢ <code>sys</code>: å†…æ ¸æ€çº¿ç¨‹æ—¶é—´<br>â€¢ <code>real</code>: å®é™…æ—¶é—´ï¼ˆæŒ‚é’Ÿæ—¶é—´ï¼‰ä¸º <code>0.02 ç§’</code></td></tr></tbody></table><h2 id="è€å¹´ä»£GC"><a href="#è€å¹´ä»£GC" class="headerlink" title="è€å¹´ä»£GC"></a>è€å¹´ä»£GC</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># CMS GC çš„ç¬¬ä¸€é˜¶æ®µï¼šåˆå§‹æ ‡è®°ã€‚æ­¤é˜¶æ®µä¼š STWï¼ˆStop-The-Worldï¼‰ï¼Œæ ‡è®°ä» GC Roots å¯è¾¾çš„è€å¹´ä»£å¯¹è±¡ã€‚</span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [GC (CMS Initial Mark) [1 CMS-initial-mark: 299903K(393216K)] 313996K(511232K), 0.0001349 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br><span class="line"># CMS å¹¶å‘æ ‡è®°é˜¶æ®µå¼€å§‹ã€‚è¯¥é˜¶æ®µä¸ä¼š STWï¼ŒGC çº¿ç¨‹ä¼šå¹¶å‘åœ°éå†å¯¹è±¡å›¾ã€‚</span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-mark-start]</span><br><span class="line"></span><br><span class="line"># CMS çš„ å¹¶å‘æ ‡è®°é˜¶æ®µç»“æŸï¼Œè€—æ—¶æ¥è¿‘ 0ï¼Œè¯´æ˜è¦ä¹ˆæ²¡å•¥å¯æ ‡è®°çš„ï¼Œè¦ä¹ˆç³»ç»Ÿè´Ÿè½½æä½ï¼Œé€Ÿåº¦éå¸¸å¿«ã€‚</span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-mark: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br><span class="line"># å¹¶å‘é¢„æ¸…ç†é˜¶æ®µï¼šGC ä¼šå°è¯•å¤„ç† minor GC åæ–°äº§ç”Ÿçš„åƒåœ¾ï¼ˆé¿å…æœ€ç»ˆ remark STW è´Ÿæ‹…è¿‡é‡ï¼‰ã€‚è¿™ä¸€æ­¥è€—æ—¶æçŸ­ï¼Œè¡¨ç¤ºåƒåœ¾é‡ä¸å¤§ã€‚</span><br><span class="line">2025-06-04T12:27:24.325+0800: 0.742: [CMS-concurrent-preclean-start]</span><br><span class="line">2025-06-04T12:27:24.326+0800: 0.743: [CMS-concurrent-preclean: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br><span class="line"># å¯ä¸­æ–­é¢„æ¸…ç†é˜¶æ®µå¼€å§‹ï¼šCMS åœ¨ç­‰å¾…è§¦å‘ Final Remark å‰ï¼Œåå¤å°è¯•è¿›ä¸€æ­¥æ¸…ç†åƒåœ¾ï¼Œå¯ä»¥è¢«æ‰“æ–­ï¼ˆå¦‚é‡ Allocation Failureï¼‰ã€‚</span><br><span class="line">2025-06-04T12:27:24.326+0800: 0.743: [CMS-concurrent-abortable-preclean-start]</span><br><span class="line"></span><br><span class="line"># åˆ†é…å¤±è´¥ï¼ˆæ–°å¯¹è±¡æ²¡åœ°æ–¹æ”¾ï¼‰ï¼Œè§¦å‘äº† minor GCï¼ˆå¹´è½»ä»£ GCï¼‰</span><br><span class="line"># # è¿™æ¬¡ Allocation Failure å¯¼è‡´ç»ˆæ­¢äº† CMS çš„ abortable precleanï¼Œè½¬å…¥ Final Remarkã€‚</span><br><span class="line">2025-06-04T12:27:24.445+0800: 0.861: [GC (Allocation Failure) 2025-06-04T12:27:24.445+0800: 0.861: [ParNew: 117642K-&gt;12925K(118016K), 0.0192145 secs] 417545K-&gt;359678K(511232K), 0.0192600 secs] [Times: user=0.00 sys=0.00, real=0.02 secs] </span><br><span class="line"></span><br><span class="line"># å¯ä¸­æ–­é¢„æ¸…ç†é˜¶æ®µç»“æŸï¼Œæ€»è€—æ—¶ 138msï¼Œè¯´æ˜é¢„æ¸…ç†å°è¯•äº†å¤šè½®ï¼Œæœ€ç»ˆè¢« allocation failure ä¸­æ–­ã€‚</span><br><span class="line">2025-06-04T12:27:24.464+0800: 0.881: [CMS-concurrent-abortable-preclean: 0.000/0.138 secs] [Times: user=0.00 sys=0.00, real=0.14 secs] </span><br><span class="line"></span><br><span class="line"># CMS GC çš„ æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal Remarkï¼‰ï¼ŒSTWã€‚å­é˜¶æ®µç»†èŠ‚åé¢ä»‹ç»</span><br><span class="line">2025-06-04T12:27:24.464+0800: 0.881: [GC (CMS Final Remark) [YG occupancy: 13523 K (118016 K)]2025-06-04T12:27:24.464+0800: 0.881: [Rescan (parallel) , 0.0004817 secs]2025-06-04T12:27:24.464+0800: 0.881: [weak refs processing, 0.0000105 secs]2025-06-04T12:27:24.464+0800: 0.881: [class unloading, 0.0001355 secs]2025-06-04T12:27:24.464+0800: 0.881: [scrub symbol table, 0.0001910 secs]2025-06-04T12:27:24.464+0800: 0.882: [scrub string table, 0.0000666 secs][1 CMS-remark: 346752K(393216K)] 360275K(511232K), 0.0009259 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br><span class="line"># å¹¶å‘æ¸…é™¤é˜¶æ®µï¼šå›æ”¶ unreachable çš„è€å¹´ä»£å¯¹è±¡ç©ºé—´ã€‚å®Œæˆå¾—å‡ ä¹ç¬é—´ï¼Œè¯´æ˜è€å¹´ä»£åƒåœ¾é‡å°‘æˆ–åˆšè¢«æ¸…ç†è¿‡ã€‚</span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-sweep-start]</span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-sweep: 0.000/0.000 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br><span class="line"># CMS GC ç»“æŸï¼Œé‡ç½® GC çŠ¶æ€ï¼Œä¸ºä¸‹ä¸€æ¬¡ GC åšå‡†å¤‡ã€‚</span><br><span class="line">2025-06-04T12:27:24.465+0800: 0.882: [CMS-concurrent-reset-start]</span><br><span class="line">2025-06-04T12:27:24.466+0800: 0.883: [CMS-concurrent-reset: 0.001/0.001 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] </span><br></pre></td></tr></table></figure><h3 id="GC-çš„-åˆå§‹æ ‡è®°å‚æ•°è§£æ"><a href="#GC-çš„-åˆå§‹æ ‡è®°å‚æ•°è§£æ" class="headerlink" title="GC çš„ åˆå§‹æ ‡è®°å‚æ•°è§£æ"></a>GC çš„ åˆå§‹æ ‡è®°å‚æ•°è§£æ</h3><table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>GC (CMS Initial Mark)</code></td><td>CMS GC çš„ç¬¬ä¸€é˜¶æ®µï¼š<strong>åˆå§‹æ ‡è®°</strong>ã€‚æ­¤é˜¶æ®µä¼š STWï¼ˆStop-The-Worldï¼‰ï¼Œæ ‡è®°ä» GC Roots å¯è¾¾çš„è€å¹´ä»£å¯¹è±¡ã€‚</td></tr><tr><td><code>1 CMS-initial-mark: 299903K(393216K)</code></td><td>è€å¹´ä»£ï¼ˆCMSï¼‰ä¸­å·²æœ‰å¯¹è±¡ä¸º <code>299903K</code>ï¼Œæ€»å®¹é‡ä¸º <code>393216K</code>ã€‚</td></tr><tr><td><code>313996K(511232K)</code></td><td>æ•´ä¸ªå †ï¼ˆåŒ…æ‹¬å¹´è½»ä»£ï¼‰å½“å‰å ç”¨ <code>313996K</code>ï¼Œå †æ€»å®¹é‡ä¸º <code>511232K</code>ã€‚</td></tr><tr><td><code>0.0001349 secs</code></td><td>åˆå§‹æ ‡è®°è€—æ—¶æçŸ­ï¼Œä»… <code>0.13ms</code>ï¼Œè¯´æ˜å †å¯¹è±¡ä¸å¤šï¼Œç³»ç»Ÿç©ºé—²åº¦è¾ƒé«˜ã€‚</td></tr><tr><td>[Times: user&#x3D;0.00 sys&#x3D;0.00, real&#x3D;0.00 secs]</td><td>ç”¨æˆ·æ€ CPU æ—¶é—´ï¼ˆçº¿ç¨‹å¹¶å‘è¿è¡Œï¼‰ã€‚ å†…æ ¸æ€ CPU æ—¶é—´ã€‚ å®é™…å¢™ä¸Šæ—¶é—´ï¼ˆå³ STW æ—¶é—´ï¼‰ã€‚æ­¤å¤„ä¸º 0.00 ç§’ï¼Œè¯´æ˜æå…¶çŸ­æš‚ï¼Œç”šè‡³å°äº 1msã€‚</td></tr></tbody></table><h3 id="GC-çš„-æœ€ç»ˆæ ‡è®°é˜¶æ®µ"><a href="#GC-çš„-æœ€ç»ˆæ ‡è®°é˜¶æ®µ" class="headerlink" title="GC çš„ æœ€ç»ˆæ ‡è®°é˜¶æ®µ"></a>GC çš„ æœ€ç»ˆæ ‡è®°é˜¶æ®µ</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2025-06-04T12:27:24.464+0800: 0.881: </span><br><span class="line">[GC (CMS Final Remark) </span><br><span class="line">    # å­é˜¶æ®µ</span><br><span class="line">    [YG occupancy: 13523 K (118016 K)]2025-06-04T12:27:24.464+0800: 0.881: </span><br><span class="line">    [Rescan (parallel) , 0.0004817 secs]2025-06-04T12:27:24.464+0800: 0.881: </span><br><span class="line">    [weak refs processing, 0.0000105 secs]2025-06-04T12:27:24.464+0800: 0.881: </span><br><span class="line">    [class unloading, 0.0001355 secs]2025-06-04T12:27:24.464+0800: 0.881: </span><br><span class="line">    [scrub symbol table, 0.0001910 secs]2025-06-04T12:27:24.464+0800: 0.882: </span><br><span class="line">    [scrub string table, 0.0000666 secs]</span><br><span class="line">[1 CMS-remark: 346752K(393216K)] </span><br><span class="line">360275K(511232K), </span><br><span class="line">0.0009259 secs] </span><br><span class="line">[Times: user=0.00 sys=0.00, real=0.00 secs] </span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal-Remarkï¼‰-å‚æ•°è§£æ"><a href="#æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal-Remarkï¼‰-å‚æ•°è§£æ" class="headerlink" title="æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal Remarkï¼‰ å‚æ•°è§£æ"></a>æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal Remarkï¼‰ å‚æ•°è§£æ</h4><table><thead><tr><th>å­—æ®µ</th><th>å«ä¹‰</th></tr></thead><tbody><tr><td><code>GC (CMS Final Remark)</code></td><td>è¡¨ç¤ºæ˜¯ CMS GC çš„ <strong>Final Remarkï¼ˆæœ€ç»ˆæ ‡è®°ï¼‰</strong>é˜¶æ®µï¼ŒSTWã€‚ç”¨äºè¡¥å……å¹¶å‘æ ‡è®°æœŸé—´å¯¹è±¡å¼•ç”¨å…³ç³»çš„å˜åŒ–ã€‚</td></tr><tr><td><code>[1 CMS-remark: 346752K(393216K)]</code></td><td>è€å¹´ä»£ä¸­å¯è¾¾å¯¹è±¡ <code>346752K</code>ï¼Œè€å¹´ä»£æ€»å®¹é‡ <code>393216K</code>ã€‚è¿™æ˜¯æœ€ç»ˆæ ‡è®°å®Œåå­˜æ´»çš„å¯¹è±¡ã€‚</td></tr><tr><td><code>360275K(511232K)</code></td><td>æ•´ä¸ªå †ï¼ˆyoung + oldï¼‰å ç”¨ <code>360275K</code>ï¼Œæ€»å®¹é‡ <code>511232K</code>ã€‚</td></tr><tr><td><code>0.0009259 secs</code></td><td>æœ¬æ¬¡ Final Remark æ€»è€—æ—¶ä¸åˆ° 1msï¼Œè¡¨ç°æå¥½ã€‚</td></tr></tbody></table><h4 id="å­é˜¶æ®µ"><a href="#å­é˜¶æ®µ" class="headerlink" title="å­é˜¶æ®µ"></a>å­é˜¶æ®µ</h4><table><thead><tr><th>å­é˜¶æ®µ</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>YG occupancy: 13523 K (118016 K)</td><td>å¹´è½»ä»£ä½¿ç”¨æƒ…å†µï¼šå…± <code>118016K</code>ï¼Œå·²ä½¿ç”¨ <code>13523K</code>ï¼Œå‰©ä½™å¤§çº¦ <code>104493K</code>ã€‚</td></tr><tr><td>[Rescan (parallel), 0.0004817 secs]</td><td><code>Rescan</code> å¤šçº¿ç¨‹é‡æ–°æ ‡è®° CMS Root Set ä¸­çš„å¼•ç”¨å˜åŒ–ï¼ˆé¿å…è¯¯åˆ¤ GC Rootsï¼‰ã€‚ è€—æ—¶ä¸åˆ° 0.5msï¼Œè¯´æ˜å¯¹è±¡å˜åŒ–è¾ƒå°‘ï¼ŒGC Root æ•°é‡ä¸å¤§ã€‚</td></tr><tr><td><code>weak refs processing, 0.0000105 secs</code></td><td>æ¸…ç† <code>WeakReference</code> ç­‰å¼•ç”¨å¯¹è±¡ã€‚è€—æ—¶éå¸¸çŸ­ï¼Œè¯´æ˜å¼±å¼•ç”¨æ•°é‡å¾ˆå°‘ã€‚</td></tr><tr><td><code>class unloading, 0.0001355 secs</code></td><td>å¸è½½æ²¡æœ‰å¼•ç”¨çš„ç±»ï¼ˆclass loaderï¼‰ã€‚è€—æ—¶çº¦ 0.13msï¼Œè¯´æ˜å½“å‰æ— å¤§é‡åŠ¨æ€åŠ è½½&#x2F;å¸è½½è¡Œä¸ºã€‚</td></tr><tr><td><code>scrub symbol table</code> &#x2F; <code>scrub string table</code></td><td>æ¸…ç†å¸¸é‡æ± &#x2F;å­—ç¬¦ä¸²è¡¨ä¸­å·²æ— å¼•ç”¨çš„é¡¹ã€‚</td></tr></tbody></table><p><strong>CMSæµç¨‹</strong>ï¼š<br>åˆå§‹æ ‡è®°ï¼ˆSTWï¼‰â†’ å¹¶å‘æ ‡è®° â†’ é¢„æ¸…ç† â†’ å¯ä¸­æ­¢é¢„æ¸…ç† â†’ æœ€ç»ˆæ ‡è®°ï¼ˆSTWï¼‰â†’ å¹¶å‘æ¸…é™¤ â†’ é‡ç½®ã€‚</p><h2 id="å…³é”®GCäº‹ä»¶åˆ†æ"><a href="#å…³é”®GCäº‹ä»¶åˆ†æ" class="headerlink" title="å…³é”®GCäº‹ä»¶åˆ†æ"></a>å…³é”®GCäº‹ä»¶åˆ†æ</h2><h3 id="é˜¶æ®µ1ï¼šå¿«é€Ÿå¡«å……æœŸï¼ˆ0-169s-0-724sï¼‰"><a href="#é˜¶æ®µ1ï¼šå¿«é€Ÿå¡«å……æœŸï¼ˆ0-169s-0-724sï¼‰" class="headerlink" title="é˜¶æ®µ1ï¼šå¿«é€Ÿå¡«å……æœŸï¼ˆ0.169s - 0.724sï¼‰"></a>é˜¶æ®µ1ï¼šå¿«é€Ÿå¡«å……æœŸï¼ˆ0.169s - 0.724sï¼‰</h3><p>è¿ç»­å‘ç”ŸMinor GC (ParNew)ï¼Œå¯¹è±¡å¿«é€Ÿæ™‹å‡è€å¹´ä»£</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">0.169s: [ParNew: 104876K-&gt;12778K] å †: 104876K-&gt;51738K </span><br><span class="line">  â†’ è€å¹´ä»£å ç”¨: 51,738K - 12,778K = 38,960K</span><br><span class="line"></span><br><span class="line">0.297s: [ParNew: 116554K-&gt;13050K] å †: 155514K-&gt;141179K </span><br><span class="line">  â†’ è€å¹´ä»£å ç”¨: 141,179K - 13,050K = 128,129K (+89,169K)</span><br><span class="line"></span><br><span class="line">0.724s: [ParNew: 117465K-&gt;12893K] å †: 370849K-&gt;312796K </span><br><span class="line">  â†’ è€å¹´ä»£å ç”¨: 312,796K - 12,893K = 299,903K (å·²è¾¾é˜ˆå€¼76.3%)</span><br></pre></td></tr></table></figure><ul><li><strong>5æ¬¡Minor GC</strong> åè€å¹´ä»£ä» 0K â†’ <strong>299,903K</strong></li><li>æ™‹å‡é€Ÿç‡ï¼š<strong>â‰ˆ60MB&#x2F;ç§’</strong></li><li>è§¦å‘CMSæ¡ä»¶ï¼š299,903K &gt; 294,912K (75%)</li></ul><h3 id="é˜¶æ®µ2ï¼šç¬¬ä¸€æ¬¡CMSå‘¨æœŸï¼ˆ0-742s-0-883sï¼‰"><a href="#é˜¶æ®µ2ï¼šç¬¬ä¸€æ¬¡CMSå‘¨æœŸï¼ˆ0-742s-0-883sï¼‰" class="headerlink" title="é˜¶æ®µ2ï¼šç¬¬ä¸€æ¬¡CMSå‘¨æœŸï¼ˆ0.742s - 0.883sï¼‰"></a>é˜¶æ®µ2ï¼šç¬¬ä¸€æ¬¡CMSå‘¨æœŸï¼ˆ0.742s - 0.883sï¼‰</h3><p>å¹¶å‘æ ‡è®°æ¸…ç†ï¼Œæ¸…ç†åè€å¹´ä»£æ˜æ˜¾ä¸‹é™</p><h1 id="END"><a href="#END" class="headerlink" title="END"></a>END</h1></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…:</span> <span class="post-copyright-info"><a href="https://iluis.cn">Luis</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥:</span> <span class="post-copyright-info"><a href="https://iluis.cn/e3f46350.html">https://iluis.cn/e3f46350.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜:</span> <span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://iluis.cn" target="_blank">Luisã®Blog</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JVM/">JVM</a></div><div class="post_share"><div class="social-share" data-image="/img/luis/t3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/d5d7710f.html" title="JVM çŸ¥è¯†æå‡"><img class="cover" src="/img/luis/t3.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">JVM çŸ¥è¯†æå‡</div></div></a></div><div class="next-post pull-right"><a href="/aefb5c52.html" title="Junit5ã€Mockito3"><img class="cover" src="/img/luis/t3.jpg" onerror='onerror=null,src="/img/404.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Junit5ã€Mockito3</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/d5d7710f.html" title="JVM çŸ¥è¯†æå‡"><img class="cover" src="/img/luis/t3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-05-10</div><div class="title">JVM çŸ¥è¯†æå‡</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/luis/avatar.jpg" onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt="avatar"></div><div class="author-info__name">Luis</div><div class="author-info__description">ä½å¤´èµ¶è·¯ã€æ•¬äº‹å¦‚ä»ª</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">39</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">15</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">10</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/iluis97"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>å…¬å‘Š</span></div><div class="announcement_content">å¾®ä¿¡å…¬ä¼—å·: dacoder<br> Gitee: https://gitee.com/iluis<br> GitHub: https://github.com/iluis97</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#JVM%E8%BF%90%E8%A1%8C%E6%97%B6%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F"><span class="toc-number">1.</span> <span class="toc-text">JVMè¿è¡Œæ—¶å†…å­˜åŒºåŸŸ</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A0%86%E5%A4%96%E5%86%85%E5%AD%98"><span class="toc-number">2.</span> <span class="toc-text">å †å¤–å†…å­˜</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E5%BC%82%E5%B8%B8"><span class="toc-number">3.</span> <span class="toc-text">å¸¸è§å¼‚å¸¸</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#StackOverflowError"><span class="toc-number">3.1.</span> <span class="toc-text">StackOverflowError</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%8C-%E5%B8%B8%E8%A7%81%E8%A7%A6%E5%8F%91%E5%9C%BA%E6%99%AF"><span class="toc-number">3.1.1.</span> <span class="toc-text">ğŸ“Œ å¸¸è§è§¦å‘åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#OutOfMemoryError%EF%BC%88OOM%EF%BC%89"><span class="toc-number">3.2.</span> <span class="toc-text">OutOfMemoryErrorï¼ˆOOMï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%8C-%E5%B8%B8%E8%A7%81%E7%B1%BB%E5%9E%8B"><span class="toc-number">3.2.1.</span> <span class="toc-text">ğŸ“Œ å¸¸è§ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E8%A7%A6%E5%8F%91%E5%9C%BA%E6%99%AF"><span class="toc-number">3.2.2.</span> <span class="toc-text">å¸¸è§è§¦å‘åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">3.2.3.</span> <span class="toc-text">è§£å†³æ–¹æ¡ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A7%E6%80%A5%E5%A4%84%E7%90%86%EF%BC%88%E4%B8%B4%E6%97%B6%EF%BC%89"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">ç´§æ€¥å¤„ç†ï¼ˆä¸´æ—¶ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%B9%E6%9C%AC%E6%80%A7%E4%BF%AE%E5%A4%8D"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">æ ¹æœ¬æ€§ä¿®å¤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A2%84%E9%98%B2%E6%8E%AA%E6%96%BD"><span class="toc-number">3.2.4.</span> <span class="toc-text">é¢„é˜²æªæ–½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E5%BB%BA%E8%AE%AE"><span class="toc-number">3.3.</span> <span class="toc-text">è¯Šæ–­å»ºè®®</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#GC%E6%94%B6%E9%9B%86%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">GCæ”¶é›†å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JVM%E5%8F%82%E6%95%B0"><span class="toc-number">5.</span> <span class="toc-text">JVMå‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.</span> <span class="toc-text">ä¸‰ç§ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E5%8F%82%E6%95%B0%EF%BC%88-%EF%BC%89"><span class="toc-number">5.1.1.</span> <span class="toc-text">æ ‡å‡†å‚æ•°ï¼ˆ-ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%9E%E6%A0%87%E5%87%86%E5%8F%82%E6%95%B0%EF%BC%88-X%EF%BC%89"><span class="toc-number">5.1.2.</span> <span class="toc-text">éæ ‡å‡†å‚æ•°ï¼ˆ-Xï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E7%BA%A7%E5%8F%82%E6%95%B0%EF%BC%88-XX%EF%BC%89"><span class="toc-number">5.1.3.</span> <span class="toc-text">é«˜çº§å‚æ•°ï¼ˆ-XXï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Boolean%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.3.1.</span> <span class="toc-text">Booleanç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Key-Value%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.1.3.2.</span> <span class="toc-text">Key-Valueç±»å‹</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JVM%E5%90%AF%E5%8A%A8%E5%8F%82%E6%95%B0"><span class="toc-number">6.</span> <span class="toc-text">JVMå¯åŠ¨å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A0%86%E5%86%85%E5%AD%98%E8%AE%BE%E7%BD%AE%EF%BC%88%E6%8E%A7%E5%88%B6%E5%A0%86%E7%BB%93%E6%9E%84%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">å †å†…å­˜è®¾ç½®ï¼ˆæ§åˆ¶å †ç»“æ„ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GC-%E7%AD%96%E7%95%A5%E4%B8%8E%E7%9B%B8%E5%85%B3%E5%8F%82%E6%95%B0"><span class="toc-number">6.2.</span> <span class="toc-text">GC ç­–ç•¥ä¸ç›¸å…³å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%8A%E6%96%AD%E4%B8%8E%E7%A8%B3%E5%AE%9A%E6%80%A7%E5%8F%82%E6%95%B0"><span class="toc-number">6.3.</span> <span class="toc-text">è¯Šæ–­ä¸ç¨³å®šæ€§å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JDK8%E5%9C%BA%E6%99%AF"><span class="toc-number">7.</span> <span class="toc-text">JDK8åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CommandLine-flags"><span class="toc-number">7.1.</span> <span class="toc-text">CommandLine flags</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B0%E7%94%9F%E4%BB%A3GC"><span class="toc-number">7.2.</span> <span class="toc-text">æ–°ç”Ÿä»£GC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%80%81%E5%B9%B4%E4%BB%A3GC"><span class="toc-number">7.3.</span> <span class="toc-text">è€å¹´ä»£GC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#GC-%E7%9A%84-%E5%88%9D%E5%A7%8B%E6%A0%87%E8%AE%B0%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90"><span class="toc-number">7.3.1.</span> <span class="toc-text">GC çš„ åˆå§‹æ ‡è®°å‚æ•°è§£æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GC-%E7%9A%84-%E6%9C%80%E7%BB%88%E6%A0%87%E8%AE%B0%E9%98%B6%E6%AE%B5"><span class="toc-number">7.3.2.</span> <span class="toc-text">GC çš„ æœ€ç»ˆæ ‡è®°é˜¶æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E7%BB%88%E6%A0%87%E8%AE%B0%E9%98%B6%E6%AE%B5%EF%BC%88Final-Remark%EF%BC%89-%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90"><span class="toc-number">7.3.2.1.</span> <span class="toc-text">æœ€ç»ˆæ ‡è®°é˜¶æ®µï¼ˆFinal Remarkï¼‰ å‚æ•°è§£æ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E9%98%B6%E6%AE%B5"><span class="toc-number">7.3.2.2.</span> <span class="toc-text">å­é˜¶æ®µ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AEGC%E4%BA%8B%E4%BB%B6%E5%88%86%E6%9E%90"><span class="toc-number">7.4.</span> <span class="toc-text">å…³é”®GCäº‹ä»¶åˆ†æ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B6%E6%AE%B51%EF%BC%9A%E5%BF%AB%E9%80%9F%E5%A1%AB%E5%85%85%E6%9C%9F%EF%BC%880-169s-0-724s%EF%BC%89"><span class="toc-number">7.4.1.</span> <span class="toc-text">é˜¶æ®µ1ï¼šå¿«é€Ÿå¡«å……æœŸï¼ˆ0.169s - 0.724sï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B6%E6%AE%B52%EF%BC%9A%E7%AC%AC%E4%B8%80%E6%AC%A1CMS%E5%91%A8%E6%9C%9F%EF%BC%880-742s-0-883s%EF%BC%89"><span class="toc-number">7.4.2.</span> <span class="toc-text">é˜¶æ®µ2ï¼šç¬¬ä¸€æ¬¡CMSå‘¨æœŸï¼ˆ0.742s - 0.883sï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#END"><span class="toc-number">8.</span> <span class="toc-text">END</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/a2aedf2f.html" title="MySQL æ€§èƒ½ä¼˜åŒ–"><img src="/img/luis/t2.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="MySQL æ€§èƒ½ä¼˜åŒ–"></a><div class="content"><a class="title" href="/a2aedf2f.html" title="MySQL æ€§èƒ½ä¼˜åŒ–">MySQL æ€§èƒ½ä¼˜åŒ–</a><time datetime="2025-05-17T02:21:13.000Z" title="å‘è¡¨äº 2025-05-17 10:21:13">2025-05-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/58b301d4.html" title="MySQL è¿›é˜¶ç¯‡"><img src="/img/luis/t7.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="MySQL è¿›é˜¶ç¯‡"></a><div class="content"><a class="title" href="/58b301d4.html" title="MySQL è¿›é˜¶ç¯‡">MySQL è¿›é˜¶ç¯‡</a><time datetime="2025-05-16T08:00:13.000Z" title="å‘è¡¨äº 2025-05-16 16:00:13">2025-05-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/7a3baa07.html" title="MySQL åŸºç¡€ç¯‡"><img src="/img/luis/t1.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="MySQL åŸºç¡€ç¯‡"></a><div class="content"><a class="title" href="/7a3baa07.html" title="MySQL åŸºç¡€ç¯‡">MySQL åŸºç¡€ç¯‡</a><time datetime="2025-05-15T06:51:13.000Z" title="å‘è¡¨äº 2025-05-15 14:51:13">2025-05-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d5d7710f.html" title="JVM çŸ¥è¯†æå‡"><img src="/img/luis/t3.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="JVM çŸ¥è¯†æå‡"></a><div class="content"><a class="title" href="/d5d7710f.html" title="JVM çŸ¥è¯†æå‡">JVM çŸ¥è¯†æå‡</a><time datetime="2025-05-10T05:12:02.000Z" title="å‘è¡¨äº 2025-05-10 13:12:02">2025-05-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/e3f46350.html" title="JVM çŸ¥è¯†æ¢³ç†"><img src="/img/luis/t3.jpg" onerror='this.onerror=null,this.src="/img/404.jpg"' alt="JVM çŸ¥è¯†æ¢³ç†"></a><div class="content"><a class="title" href="/e3f46350.html" title="JVM çŸ¥è¯†æ¢³ç†">JVM çŸ¥è¯†æ¢³ç†</a><time datetime="2025-05-09T05:12:02.000Z" title="å‘è¡¨äº 2025-05-09 13:12:02">2025-05-09</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(/img/luis/t3.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2025 By Luis</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i> <span>æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"></div></div><hr><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"></div><script defer="defer" src="/js/jquery.slim.min.js"></script><script defer="defer" data-pjax src="/js/cat.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>